## 黑马头条PC-主页模块-页面布局

**`思路-步骤`** 实现以下布局

![image-20200302153712679](assets/image-20200302153712679.png)

* elementUI组件 是否有支持类似效果的

* el-container => 大容器

* 左侧 =>  el-aside 

* 右侧 => el-container =>  el-header- el-main

* ```xml
  <!-- 先在最外层放置一个大容器 因为 小容器只能放到大容器里面 -->
     <el-container>
       <el-aside>
         <h1>左侧导航区域</h1>
       </el-aside>
       <!-- 右侧 再嵌套一个 el-container -->
       <el-container>
         <!-- 再上下布局 -->
         <el-header>
           <h1>顶部操作栏</h1>
         </el-header>
         <!-- 主要区域 -->
         <el-main>
           <h1>主要区域</h1>
            <!-- 这里应该放置 二级路由容器 -->
           <router-view></router-view>
       </el-main>
       </el-container>
     </el-container>
  ```
  
  

## 黑马头条PC-主页模块-左侧导航菜单

**`思路-步骤`**

左侧菜单背景色   **`#323745`** 菜单图片背景色  **`#2e2f32`**导航背景色 **`#353b4e`**导航字体颜色 **`#adafb5`**

## 黑马头条PC-主页模块-头部结构及下拉菜单

**`思路-步骤`**

## 黑马头条PC-统一全局注册插件的使用方式Vue.use

**`思路-步骤`**

## 黑马头条PC-主页模块-头部信息查询

**`思路-步骤`**

## 黑马头条PC-主页模块-头部退出系统

**`思路-步骤`**

## 黑马头条PC-主页模块-左侧导航配置路由

**`思路-步骤`**

## 黑马头条PC-主页模块-默认导航

**`思路-步骤`**

## 黑马头条PC-登录模块-主页-权限思考

**`思路-步骤`**  

## 黑马头条PC-主页模块-导航守卫

**`思路-步骤`**

## 黑马头条PC-接口访问-token统一处理思考

**`思路-步骤`**

* token是令牌, 调用接口时 基本都要携带令牌,携带令牌的方式 各个接口 自己找自己的,这种方式不统一!!! 不好!!!!

班里有50个同学,要去食堂吃饭,但是吃饭每个人需要**`证件(token)`**,现在教室里每个人的证件都在讲台上,大家去吃饭先要去讲台上**`拿证件(取token)`**才能吃饭,50个人要分别上50次讲台,**`每个人独自取自己的token`**,现在有个方案,在大家出门前,老师自动把**`证件(统一注入token)`**放到每个人的兜里,大家不再需要上讲台拿证件,直接去食堂,很爽!!!!!

## 黑马头条PC-接口访问-axios拦截器-统一处理请求token

* 通过接口调用的方式 => 等待后端告诉前端 token过期,删除token ,重新登录

* ![1569027707529](../../../../面授/90/11/笔记/assets/1569027707529.png)

* 请求拦截器=> **`请求到达后台服务器之前拦截的`**

* ![1569027772359](../../../../面授/90/11/笔记/assets/1569027772359.png)

  

  

**`思路-步骤`**

* 请求拦截 => **`请求之前`**拦截 =>  **`请求到达后台之前`**拦截
* **`请求到达后台之前`** => 将token塞进去,token格式一致

```js
// 负责对axios进行处理
import axios from 'axios'
axios.interceptors.request.use(function (config) {
  // 在发起请求请做一些业务处理
  // config是要发送请求的配置信息
  let token = window.localStorage.getItem('user-token') // 获取token
  config.headers['Authorization'] = `Bearer ${token}` // 统一注入token 到headers属性 因为所有接口要求的token格式是一样的
  return config
}, function (error) {
  // 对请求失败做处理
  return Promise.reject(error)
})
export default axios
```

## 黑马头条PC--接口访问-axios拦截器-统一处理响应数据

**`思路-步骤`** 

```js
axios.interceptors.response.use(function (response) {
    // 对响应数据做处理
    return response;
  }, function (error) {
    // 对响应错误做处理
    return Promise.reject(error);
  });
```

```js
// 响应拦截 响应数据 回来 到达then方法之前
axios.interceptors.response.use(function (response) {
  // 对响应数据做处理 执行成功时进入
  return response.data ? response.data : {}
}, function () {
  // 执行失败时执行
})
```



## 黑马头条PC--接口访问-axios拦截器-统一处理异常数据

**`思路-步骤`**





